
let questions = [
    {
        pytanie: "Jaka jest średnia temperatura ciała człowieka?",
        odpowiedzi: ["A) 37°C", "B) 38°C", "C) 36°C", "D) 39°C"],
        poprawnaOdpowiedz: "A"
    },
    {
        pytanie: "Która witamina jest wytwarzana, gdy skóra jest wystawiona na działanie światła słonecznego?",
        odpowiedzi: ["A) Witamina A", "B) Witamina C", "C) Witamina D", "D) Witamina E"],
        poprawnaOdpowiedz: "C"
    },
    {
        pytanie: "Jaki procent ciała stanowi woda?",
        odpowiedzi: ["A) 50%", "B) 60%", "C) 70%", "D) 80%"],
        poprawnaOdpowiedz: "C"
    },
    {
        pytanie: "Co jest elektrownią komórki?",
        odpowiedzi: ["A) Jądro komórkowe", "B) Mitochondrium", "C) Rybosom", "D) Aparat Golgiego"],
        poprawnaOdpowiedz: "B"
    },
    {
        pytanie: "Które zmysły są zwykle najbardziej wyostrzone u noworodków?",
        odpowiedzi: ["A) Wzrok i słuch", "B) Węch i smak", "C) Dotyk i wzrok", "D) Słuch i dotyk"],
        poprawnaOdpowiedz: "A"
    },
    {
        pytanie: "Który pierwiastek chemiczny jest głównym składnikiem ciała?",
        odpowiedzi: ["A) Węgiel", "B) Tlen", "C) Azot", "D) Wodór"],
        poprawnaOdpowiedz: "B"
    },
    {
        pytanie: "Który z narządów człowieka jest największy?",
        odpowiedzi: ["A) Wątroba", "B) Płuca", "C) Skóra", "D) Serce"],
        poprawnaOdpowiedz: "C"
    },
    {
        pytanie: "Ile kości składa się na ludzką czaszkę?",
        odpowiedzi: ["A) 22", "B) 24", "C) 26", "D) 28"],
        poprawnaOdpowiedz: "A"
    },
    {
        pytanie: "Co to jest hemoglobina?",
        odpowiedzi: ["A) Białko w mięśniach", "B) Rodzaj komórek krwi", "C) Cukier we krwi", "D) Hormon tarczycy"],
        poprawnaOdpowiedz: "B"
    },
    {
        pytanie: "Jak nazywa się jednostka funkcjonalna nerwu?",
        odpowiedzi: ["A) Komórka", "B) Neuron", "C) Światłoczułość", "D) Receptor"],
        poprawnaOdpowiedz: "B"
    },
    {
        pytanie: "Jaka część mózgu odpowiada za pamięć?",
        odpowiedzi: ["A) Kora mózgowa", "B) Hipokamp", "C) Mózg środkowy", "D) Rdzeń przedłużony"],
        poprawnaOdpowiedz: "B"
    },
    {
        pytanie: "Który z tych narządów nie jest częścią układu trawiennego?",
        odpowiedzi: ["A) Wątroba", "B) Trzustka", "C) Płuca", "D) Jelito cienkie"],
        poprawnaOdpowiedz: "C"
    },
    {
        pytanie: "Jaki jest składnik podstawowy komórek roślinnych?",
        odpowiedzi: ["A) Celuloza", "B) Skrobia", "C) Lipidy", "D) Białka"],
        poprawnaOdpowiedz: "A"
    },
    {
        pytanie: "Co to jest aktywność fizyczna?",
        odpowiedzi: ["A) Ćwiczenia wykonywane w domu", "B) Ruchy wykonywane w pracy", "C) Działania prowadzące do utraty energii", "D) Spędzanie czasu na zewnątrz"],
        poprawnaOdpowiedz: "C"
    },
    {
        pytanie: "Które z następujących warzyw jest bogate w witaminę C?",
        odpowiedzi: ["A) Marchewka", "B) Ziemniak", "C) Brokuły", "D) Seler"],
        poprawnaOdpowiedz: "C"
    },
    {
        pytanie: "Co to jest cholesterol?",
        odpowiedzi: ["A) Rodzaj cukru", "B) Tłuszcz", "C) Białko", "D) Hormon"],
        poprawnaOdpowiedz: "B"
    },
    {
        pytanie: "Co to jest anemia?",
        odpowiedzi: ["A) Wysoki poziom cukru we krwi", "B) Niedobór żelaza", "C) Choroba skóry", "D) Nadmiar czerwonych krwinek"],
        poprawnaOdpowiedz: "B"
    },
    {
        pytanie: "Jakie są główne funkcje witaminy A?",
        odpowiedzi: ["A) Poprawa wzroku i wzrost kości", "B) Wzmacnianie odporności i gojenie ran", "C) Produkcja krwinek czerwonych i białych", "D) Utrzymanie zdrowej skóry i błon śluzowych"],
        poprawnaOdpowiedz: "D"
    },
    {
        pytanie: "Co to jest dieta zrównoważona?",
        odpowiedzi: ["A) Dieta zawierająca równą ilość białka, węglowodanów i tłuszczów", "B) Dieta składająca się wyłącznie z warzyw", "C) Dieta oparta na fast foodach", "D) Dieta bezglutenowa"],
        poprawnaOdpowiedz: "A"
    },
    {
        pytanie: "Czym jest BMI?",
        odpowiedzi: ["A) Mierniką masy ciała", "B) Międzynarodowym wskaźnikiem masy ciała", "C) Międzynarodowym miernikiem biologicznym", "D) Międzynarodowym miernikiem budowy ciała"],
        poprawnaOdpowiedz: "B"
    },
    {
        pytanie: "Jak nazywa się substancja, która występuje w papierosach i może prowadzić do uzależnienia?",
        odpowiedzi: ["A) Nikotyna", "B) Kofeina", "C) Alkohol", "D) Kokaina"],
        poprawnaOdpowiedz: "A"
    },
    {
        pytanie: "Co to jest stres?",
        odpowiedzi: ["A) Reakcja organizmu na zagrożenie", "B) Stan spokoju i relaksu", "C) Ujemna emocja", "D) Zmęczenie fizyczne"],
        poprawnaOdpowiedz: "A"
    },
    {
        pytanie: "Jakie są skutki palenia papierosów na zdrowie?",
        odpowiedzi: ["A) Wzrost poziomu energii", "B) Poprawa zdolności płuc", "C) Wzrost ryzyka chorób serca i płuc", "D) Utrata wagi"],
        poprawnaOdpowiedz: "C"
    },
    {
        pytanie: "Co to jest depresja?",
        odpowiedzi: ["A) Zmniejszenie poziomu cholesterolu we krwi", "B) Stan niskiego nastroju i beznadziejności", "C) Wysoki poziom energii", "D) Silne pragnienie snu"],
        poprawnaOdpowiedz: "B"
    },
    {
        pytanie: "Jaki wpływ na zdrowie ma regularne wykonywanie ćwiczeń fizycznych?",
        odpowiedzi: ["A) Zwiększenie ryzyka chorób serca", "B) Poprawa ogólnej kondycji fizycznej", "C) Spadek poziomu stresu", "D) Wzrost ryzyka otyłości"],
        poprawnaOdpowiedz: "B"
    },
    {
        pytanie: "Co to jest cukrzyca?",
        odpowiedzi: ["A) Zaburzenie równowagi hormonalnej", "B) Choroba układu oddechowego", "C) Stan niskiego poziomu cukru we krwi", "D) Choroba charakteryzująca się podwyższonym poziomem cukru we krwi"],
        poprawnaOdpowiedz: "D"
    },
    {
        pytanie: "Jaki wpływ na zdrowie ma regularne picie wody?",
        odpowiedzi: ["A) Wzrost ryzyka odwodnienia", "B) Poprawa funkcji nerek", "C) Zmniejszenie ryzyka kamieni nerkowych", "D) Wzrost ryzyka otyłości"],
        poprawnaOdpowiedz: "C"
    },
    {
        pytanie: "Co to jest zdrowe odżywianie?",
        odpowiedzi: ["A) Konsumowanie dużej ilości przetworzonych produktów", "B) Spożywanie różnorodnych i zrównoważonych posiłków", "C) Dieta oparta na fast foodach", "D) Jedzenie tylko owoców i warzyw"],
        poprawnaOdpowiedz: "B"
    },
    {
        pytanie: "Jakie są główne korzyści płynące z regularnego snu?",
        odpowiedzi: ["A) Zwiększenie poziomu stresu", "B) Poprawa pamięci i koncentracji", "C) Wzrost ryzyka chorób serca", "D) Zwiększenie ryzyka depresji"],
        poprawnaOdpowiedz: "B"
    },
    {
        pytanie: "Czym jest autyzm?",
        odpowiedzi: ["A) Chorobą zakaźną", "B) Zaburzeniem rozwojowym", "C) Częstą alergią", "D) Stanem emocjonalnym"],
        poprawnaOdpowiedz: "B"
    },
    {
        pytanie: "Jakie są główne objawy udaru mózgu?",
        odpowiedzi: ["A) Ból głowy i zmęczenie", "B) Problemy z mową i widzeniem", "C) Wzrost apetytu i masy ciała", "D) Wzrost częstości akcji serca"],
        poprawnaOdpowiedz: "B"
    },
    {
        pytanie: "Co to jest osteoporoza?",
        odpowiedzi: ["A) Stan nadmiernego wzrostu kości", "B) Choroba zakaźna", "C) Choroba charakteryzująca się osłabieniem kości", "D) Stan podwyższonego ciśnienia krwi"],
        poprawnaOdpowiedz: "C"
    },
    {
        pytanie: "Jakie są główne przyczyny otyłości?",
        odpowiedzi: ["A) Regularne ćwiczenia fizyczne", "B) Zdrowe odżywianie", "C) Spożywanie nadmiaru kalorii i brak aktywności fizycznej", "D) Brak snu"],
        poprawnaOdpowiedz: "C"
    },
    {
        pytanie: "Czym jest alergia?",
        odpowiedzi: ["A) Reakcją organizmu na zmianę pogody", "B) Nadwrażliwością na określone substancje", "C) Stanem braku apetytu", "D) Spadkiem poziomu cukru we krwi"],
        poprawnaOdpowiedz: "B"
    },
]


let currentQuestionIndex = 0;
let quiz = document.getElementById("quiz");
let submit = document.getElementById("submit");
let numberOfLifes = 3;
let numberOfWins = 0;
let goodAnswer = document.getElementById("goodAnswer");
let wrongAnswer = document.getElementById("wrongAnswer");
let healthBar = document.getElementById("healthBar")


zapytaj();
showNumberOfLifes();

function zapytaj() {
    if (currentQuestionIndex < questions.length && numberOfLifes > 0) {

        let currentQuestion = questions[currentQuestionIndex];


        quiz.innerHTML = "";

        let pytanie = document.createElement("div");
        pytanie.innerText = currentQuestion.pytanie;
        pytanie.classList.add("pytanie");
        quiz.appendChild(pytanie);

        currentQuestion.odpowiedzi.forEach((answer, index) => {
            let odpowiedzDiv = document.createElement("div");
            odpowiedzDiv.classList.add("odpowiedz");
            odpowiedzDiv.classList.add("odpowiedz" + (index + 1));
            quiz.appendChild(odpowiedzDiv);

            let input = document.createElement("input");
            input.type = "radio";
            input.setAttribute("name", "odpowiedz");
            input.id = "odpowiedz" + index;
            odpowiedzDiv.appendChild(input);

            let label = document.createElement("label");
            label.setAttribute("for", "odpowiedz" + index);
            label.textContent = answer;
            odpowiedzDiv.appendChild(label);
        });

        currentQuestionIndex++;
    } 
    else 
    {
        // End of quiz
        endQuiz();
    }
}

function showNumberOfLifes () 
{

        healthBar.innerHTML = ""; //Usuwanie zawartości 

        let napisIlosciZyc = document.createElement("div");
        napisIlosciZyc.classList.add("napisIloscZyc")
        napisIlosciZyc.innerText = "Ilość żyć: " + numberOfLifes;
        healthBar.appendChild(napisIlosciZyc);

        if(numberOfLifes > 2)
        {
            let life3 = document.createElement("div");
            life3.classList.add("life3");
            life3.classList.add("life");
            healthBar.appendChild(life3);
        }
        if(numberOfLifes > 1)
        {
            let life2 = document.createElement("div");
            life2.classList.add("life2");   
            life2.classList.add("life");
            healthBar.appendChild(life2);
        }
        if(numberOfLifes > 0)
        {
            let life1 = document.createElement("div");
            life1.classList.add("life1");
            life1.classList.add("life");
            healthBar.appendChild(life1);
        }
        else
        {
            endQuiz();
        }

    if (numberOfLifes == 0)
    {
        let koniec = document.createElement("div");
            koniec.classList.add("koniec");
            koniec.innerText = "Koniec gry"

            let iloscWygranych = document.createElement("div")
            iloscWygranych.classList.add("iloscWygranych");
            iloscWygranych.innerText = "Ilość wygranych to: " + numberOfWins;

            let link = document.createElement("a");
            link.href = "../podstrona/quiz.html"

            let playAgain = document.createElement("div")
            playAgain.classList.add("playAgain")

            let reset = document.createElement("img")
            reset.src = "../images/reset.png";
            reset.classList.add("reset")

            quiz.appendChild(koniec);
            koniec.appendChild(iloscWygranych);
            koniec.appendChild(link);
            link.appendChild(playAgain)
            playAgain.appendChild(reset)
        
    }
}

function endQuiz(){
    let koniec = document.createElement("div");
            koniec.classList.add("koniec");
            koniec.innerText = "Koniec gry"

            let iloscWygranych = document.createElement("div")
            iloscWygranych.classList.add("iloscWygranych");
            iloscWygranych.innerText = "Ilość wygranych to: " + numberOfWins;

            let link = document.createElement("a");
            link.href = "../podstrona/quiz.html"

            let playAgain = document.createElement("div")
            playAgain.classList.add("playAgain")

            let reset = document.createElement("img")
            reset.src = "../images/reset.png";
            reset.classList.add("reset")

            quiz.appendChild(koniec);
            koniec.appendChild(iloscWygranych);
            koniec.appendChild(link);
            link.appendChild(playAgain)
            playAgain.appendChild(reset)
}


submit.addEventListener("click", function() {
    if(numberOfLifes !== 0){

        const radioInputs = document.querySelectorAll('input[type="radio"][name="odpowiedz"]');
        let checkedLabelValue = null;

        radioInputs.forEach(function(input) {
            if (input.checked) {
                const label = input.parentElement.querySelector("label");
                checkedLabelValue = label.textContent;
                return;
            }
        });

        if (checkedLabelValue !== null) {
            let currentQuestion = questions[currentQuestionIndex - 1];
            console.log("Correct answer:", currentQuestion.poprawnaOdpowiedz);
            console.log("Selected answer:", checkedLabelValue[0]);
            if (checkedLabelValue[0] === currentQuestion.poprawnaOdpowiedz) {
                numberOfWins++;
                showGoodAnswer();
                showNumberOfLifes();
                if(numberOfLifes == 0){
                    endQuiz();
                }
            } 
            else 
            {
                console.log("Incorrect answer!");
                numberOfLifes--;
                showNumberOfLifes();   
                showBadAnswer();

            }
        
            zapytaj();
        } else {
            console.log("No input is checked.");
        }
    
    }
    else if( numberOfLifes == 0)
    {
        endQuiz();
    }
    
});

function showGoodAnswer() {
    goodAnswer.classList.add("show");

    setTimeout(function() {
        goodAnswer.classList.remove("show");
    }, 1000);
}

function showBadAnswer() {
    wrongAnswer.classList.add("show");

    setTimeout(function() {
        wrongAnswer.classList.remove("show");
    }, 1000);
}



